
% ==================== Text style ====================
\usepackage{polyglossia}
\setmainlanguage{vietnamese}

\usepackage{fontspec}
\setmainfont{IBMPlexSerif}[
    Path        = fonts/,
    Extension   = .ttf,
    UprightFont     = *-Regular,
    BoldFont        = *-Bold,
    ItalicFont      = *-Italic,
    BoldItalicFont  = *-BoldItalic,
]
\setsansfont{SourceSansPro}[
    Path        = fonts/,
    Extension   = .ttf,
    UprightFont     = *-Regular,
    BoldFont        = *-Bold,
    ItalicFont      = *-Italic,
    BoldItalicFont  = *-BoldItalic,
]
\setmonofont{JetBrainsMono}[
    Path        = fonts/,
    Extension   = .ttf,
    UprightFont     = *-Regular,
    BoldFont        = *-Bold,
    ItalicFont      = *-Italic,
    BoldItalicFont  = *-BoldItalic,
]

\usepackage{setspace}
\singlespacing

% ==================== Page style ====================
\usepackage[
    a4paper,
    top=25mm,
    bottom=25mm,
    right=20mm,
    left=20mm,
    headheight=13pt,
    marginparsep=0pt,
    marginparwidth=0pt,
    % showframe
]{geometry}

\usepackage{lastpage}
\usepackage{fancyhdr}

\fancypagestyle{blank}{
    \pagenumbering{gobble}
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}

\fancypagestyle{nohf}{
    \pagenumbering{gobble}
    \fancyhf{}
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}
}

\fancypagestyle{default}{
    \pagenumbering{arabic}
    \fancyhf{}
    \fancyhead[R]{\pagetitle}
    \fancyfoot[C]{Trang \thepage/\pageref*{LastPage}}
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}
}

\fancypagestyle{titlepage}[blank]{}

\fancypagestyle{toc}[nohf]{
    \setlength{\parskip}{12pt}
}

\fancypagestyle{content}[default]{}

% ==================== Environemnt ====================
\usepackage[tocskip=6pt]{parskip}
\makeatletter
    \newcommand{\@minipagerestore}{\setlength{\parskip}{6pt}}
\makeatother

\usepackage{float} % provide [H] option
% \usepackage{hvfloat}

\usepackage{lscape}

% ==================== Color ====================
\usepackage[svgnames]{xcolor}

\usepackage{tcolorbox}
\tcbuselibrary{minted}
% \tcbset{
%     on line,
%     boxsep=4pt, left=0pt,right=0pt,top=0pt,bottom=0pt,
%     colframe=white, colback=LightPink,
%     % highlight math style={enhanced}
% }
\newtcbox{\highlighttext}{
    on line,
    left=0pt, right=0pt, top=0pt, bottom=0pt,
    boxsep=4pt,
    colframe=white, colback=LightPink,
}

\usepackage{colortbl}

% ==================== Icon ====================
\usepackage[fixed]{fontawesome5}

% ==================== Image ====================
\usepackage{graphicx}
% \graphicspath{{./}}
\setkeys{Gin}{width=\linewidth-7pt, height=784pt, keepaspectratio}
% 784pt is max height of ratio 4:3

\usepackage{epsfig}

% ==================== Table/Multicolumn ====================
\usepackage{tabularx}
\usepackage{makecell}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{array}

\setlength{\extrarowheight}{1pt}
% \renewcommand{\arraystretch}{2}
% \renewcommand{\tabcolsep}{3pt}

% ==================== List ====================
\usepackage{enumitem}
% \usepackage{paralist}

% ==================== Caption ====================
\usepackage{caption}
\usepackage{subcaption}

% ==================== Mathematic ====================
\usepackage{amsmath}

% ==================== Code ====================
\usepackage{minted}
\setminted{
    labelposition=topline,
    %
    % frame=lines,
    frame=single,
    framerule=1pt,
    framesep=10pt,
    rulecolor=Gray,
    bgcolor=LightGray,
    %
    % codetagify={NOTE, TODO, BUG},
    %
    baselinestretch=1.2,
    linenos=true,
    numberblanklines=true,
    %
    tabsize=4,
    obeytabs=true,
    autogobble=true,
    % gobble=?,
    %
    breaklines=true,
    breakafter={,]\}},
    breakbefore={+-*/\%\#[\{},
    samepage=true,
    %
}

% ==================== Drawing ====================
\usepackage{tikz}

% ==================== Reference ====================
\usepackage{biblatex}
\DeclareLanguageMapping{vietnamese}{english} % Fall back to English
\setlength\bibitemsep{0.5\baselineskip}
\addbibresource{content/reference.bib}

% ==================== Hyperlink ====================
\usepackage{xurl}

% Also adding PDF outline, PDF title
\usepackage{hyperref}
\hypersetup{
    unicode=true,
    %
    linktoc=all,
    hidelinks,
    breaklinks=true,
    %
    colorlinks=true,
    urlcolor=DodgerBlue,
    linkcolor=DodgerBlue,
    citecolor=DodgerBlue,
    anchorcolor=DodgerBlue,
    %
    pdfcenterwindow=true,
    pdfdisplaydoctitle=true,
    pdftitle={\pdftitle},
    pdfsubject={\pdfsubject},
    pdfauthor={\pdfauthor},
    %
}

\usepackage[all]{hypcap} % Use after hyperref
\renewcommand{\hypcapspace}{0.3\textheight}
